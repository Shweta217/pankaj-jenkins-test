---
- name: include vars
  include_vars: /home/ec2-user/ansible-projects/inventory-sample/playbooks/vars.yml

- name: win shell test
  win_shell: wmic MEMORYCHIP get Capacity
  register: result

- name: debug
  debug:
    var: result.stdout_lines[-4] | trim 

- name: calculate cap in GB
  #shell: python3 /home/ec2-user/ansible-projects/inventory-sample/scripts/calc1.py "{{result.stdout_lines[-4] | trim}}"
  shell:  python3 /home/ec2-user/ansible-projects/inventory-sample/scripts/calc1.py
  register: cap_result
  ignore_errors: yes
  delegate_to: localhost

- name: debugging cap_result var
  debug:
    var: cap_result
  ignore_errors: yes
  delegate_to: localhost


